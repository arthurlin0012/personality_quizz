<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Space Sailor's Quiz âš“</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f7fa;
    }

    .question {
      display: none;
    }

    .active {
      display: block;
    }

    .quiz-container {
      max-width: 600px;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    .result img,
    .question img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    label {
      display: block;
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      background-color: #e9ecef;
      margin-top: 10px;
      cursor: pointer;
      text-align: center;
    }

    label:hover {
      background-color: #dee2e6;
    }

    input[type="radio"] {
      margin-right: 10px;
    }

    .progress {
      height: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .loading {
      font-size: 1.5rem;
    }

    .result {
      max-width: 600px;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 576px) {
      .quiz-container {
        padding: 20px;
      }

      h2 {
        font-size: 1.5rem;
      }

      .lead {
        font-size: 1rem;
      }
    }
  </style>
</head>

<body>

  <div class="container d-flex flex-column align-items-center">

    <!-- Start Screen -->
    <div id="startScreen" class="quiz-container text-center">
      <h2>ðŸŒŒ Welcome to the Ocean Explorer Quiz ðŸŒŠ</h2>
      <p>Embark on a fun personality journey across the deep seas!</p>
      <button id="startBtn" class="btn btn-success mt-3">Start Quiz</button>
    </div>

    <!-- Quiz Section -->
    <div id="quizSection" class="d-none w-100 d-flex flex-column align-items-center">
      <h2>âš“ðŸŒŠ Ocean Exploration âš“ðŸŒŠ</h2>

      <div class="progress w-100 mb-3">
        <div id="progressBar" class="progress-bar bg-info" role="progressbar" style="width: 0%"></div>
      </div>

      <form id="surveyForm" class="quiz-container text-center">

        <div class="question active">
          <p>1. What is your favorite color?</p>
          <div class="row">
            <div class="col-6">
              <img src="red.jpg" alt="Red">
              <label><input type="radio" name="q1" value="Red"> Red</label>
            </div>
            <div class="col-6">
              <img src="blue.jpg" alt="Blue">
              <label><input type="radio" name="q1" value="Blue"> Blue</label>
            </div>
          </div>
        </div>

        <div class="question">
          <p>2. What is your preferred pet?</p>
          <div class="row">
            <div class="col-6">
              <img src="dog.jpg" alt="Dog">
              <label><input type="radio" name="q2" value="Dog"> Dog</label>
            </div>
            <div class="col-6">
              <img src="cat.jpg" alt="Cat">
              <label><input type="radio" name="q2" value="Cat"> Cat</label>
            </div>
          </div>
        </div>

        <div class="question">
          <p>3. Which season do you like most?</p>
          <div class="row">
            <div class="col-6">
              <img src="spring.jpg" alt="Spring">
              <label><input type="radio" name="q3" value="Spring"> Spring</label>
            </div>
            <div class="col-6">
              <img src="summer.jpg" alt="Summer">
              <label><input type="radio" name="q3" value="Summer"> Summer</label>
            </div>
          </div>
        </div>

        <div class="question">
          <p>4. What is your favorite genre of music?</p>
          <div class="row">
            <div class="col-6">
              <img src="pop.jpg" alt="Pop">
              <label><input type="radio" name="q4" value="Pop"> Pop</label>
            </div>
            <div class="col-6">
              <img src="rock.jpg" alt="Rock">
              <label><input type="radio" name="q4" value="Rock"> Rock</label>
            </div>
          </div>
        </div>

      </form>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="quiz-container text-center d-none">
      <div class="loading">
        <p>ðŸ§  Calculating your result...</p>
        <div class="spinner-border text-info" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>

    <!-- Result Screen -->
    <div id="result" class="result mt-4 text-center d-none">
      <h2>You are a true space explorer! ðŸš€</h2>
      <p class="lead mt-3 mb-4">Your curious spirit matches the vastness of the ocean and the cosmos ðŸŒŒ</p>
      <img id="resultImg" src="cat.jpg" alt="Result Image" class="mb-4">
    </div>
  </div>

  <!-- Sounds -->
  <audio id="nextSound" src="next.mp3" preload="auto"></audio>
  <audio id="finishSound" src="finish.mp3" preload="auto"></audio>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    const form = document.getElementById('surveyForm');
    const resultDiv = document.getElementById('result');
    const resultImg = document.getElementById('resultImg');
    const questions = document.querySelectorAll('.question');
    const progressBar = document.getElementById('progressBar');
    const nextSound = document.getElementById('nextSound');
    const finishSound = document.getElementById('finishSound');
    const startBtn = document.getElementById('startBtn');
    const startScreen = document.getElementById('startScreen');
    const quizSection = document.getElementById('quizSection');
    const loadingScreen = document.getElementById('loadingScreen');

    let currentQuestion = 0;
    const totalQuestions = questions.length;
    const images = ["angelfish.jpg", "crab.jpg", "eel.jpg", "octo.jpg"];

    function updateProgress() {
      const percent = Math.round((currentQuestion / totalQuestions) * 100);
      progressBar.style.width = percent + "%";
    }

    startBtn.addEventListener('click', () => {
      startScreen.classList.add('d-none');
      quizSection.classList.remove('d-none');
      updateProgress();
    });

    form.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('click', () => {
        nextSound.play();
        if (currentQuestion < totalQuestions - 1) {
          questions[currentQuestion].classList.remove('active');
          currentQuestion++;
          questions[currentQuestion].classList.add('active');
          updateProgress();
        } else {
          updateProgress();
          showLoadingThenResult();
        }
      });
    });

    function showLoadingThenResult() {
      form.style.display = 'none';
      quizSection.classList.add('d-none');
      loadingScreen.classList.remove('d-none');
      setTimeout(() => {
        loadingScreen.classList.add('d-none');
        finishSound.play();
        resultImg.src = images[Math.floor(Math.random() * images.length)];
        resultDiv.classList.remove('d-none');
        progressBar.style.width = '100%';
        confetti();
      }, 3000);
    }

    updateProgress();
  </script>

</body>

</html>
